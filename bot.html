<!DOCTYPE html>
<html>
<head>
<title>Healthy Diet Chatbot</title>
<style>
#chat{
  width:320px;height:400px;border:2px solid #333;overflow-y:auto;padding:10px;border-radius:5px;
}
input{width:90%;padding:8px;margin-top:10px;}
</style>
</head>
<body>
<h3>üçè Healthy Diet AI Chatbot</h3>
<div id="chat"></div>
<input id="userInput" placeholder="Type here‚Ä¶" onkeydown="check(event)" />

<script>
const API = "https://script.google.com/macros/s/AKfycbzfmUOItWzQNIU1ZMEQaBo3E7sv-tA-VkNUgavQ_R50ONDFegWDGfhqoOxAYE25qpF4/exec";

function bot(msg){document.getElementById("chat").innerHTML+="<br><b>Bot:</b> "+msg;}
function user(msg){document.getElementById("chat").innerHTML+="<br><b>You:</b> "+msg;}

async function check(e){
  if(e.key==="Enter"){
    let msg = document.getElementById("userInput").value;
    user(msg);

    // Basic redirect logic
    if(msg.toLowerCase().includes("healthy diet chart")){
      bot("‚úÖ Please go to Screen-3 and fill the form.");
      bot("üìå After submitting, return and type: show my diet");
      return;
    }

    // Real data fetch
    let res = await fetch(API, {
      method: "POST",
      body: JSON.stringify({message: msg})
    });
    let data = await res.text();
    bot(data);

    document.getElementById("userInput").value="";
  }
}
</script>
</body>
</html>
